{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 3b18c9e90a6a188c6a94","./src/index.js","external \"Bacon\"*","./src/window.js","./src/mouse.js","./src/keyboard.js","./src/touch.js","./src/gamepad.js","external \"jQuery\"*","./src/util.js"],"names":[],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Bacon\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Bacon\", \"jQuery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"Bacon\"), require(\"jQuery\")) : factory(root[\"Bacon\"], root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn ","\n// The module cache\nvar installedModules = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(installedModules[moduleId])\n\t\treturn installedModules[moduleId].exports;\n\t\n\t// Create a new module (and put it into the cache)\n\tvar module = installedModules[moduleId] = {\n\t\texports: {},\n\t\tid: moduleId,\n\t\tloaded: false\n\t};\n\t\n\t// Execute the module function\n\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\t\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = modules;\n\n// expose the module cache\n__webpack_require__.c = installedModules;\n\n// __webpack_public_path__\n__webpack_require__.p = \"\";\n\n\n// Load entry module and return exports\nreturn __webpack_require__(0);","module Window from \"./window\";\nmodule Mouse from \"./mouse\";\nmodule Keyboard from \"./keyboard\";\nmodule Touch from \"./touch\";\nmodule Gamepad from \"./gamepad\";\n\nmodule bacon from \"bacon\";\n\nbacon.Browser = {\n  Window: Window,\n  Mouse: Mouse,\n  Keyboard: Keyboard,\n  Touch: Touch,\n  Gamepad: Gamepad\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;","module $ from \"jquery\";\nmodule bacon from \"bacon\";\nimport {constantly} from \"./util\";\n\n// TODO - https://developer.mozilla.org/en-US/docs/Web/API/Window#Event_handlers\n\nlet $window = $(window);\n\nif (window.history && window.history.pushState) {\n  let oldMethods = {};\n  [\"pushState\", \"replaceState\"].forEach(function(method) {\n    oldMethods[method] = window.history[method];\n    window.history[method] = function(state) {\n      // We do it like this because the pushState/replaceState might fail.\n      let ret = oldMethods[method].apply(this, arguments);\n      $window.trigger(\"___bacon-browser-state___\", [state]);\n      return ret;\n    };\n  });\n}\n\n/**\n * Event wrapper for `window.onresize`\n *\n * @returns EventStream of resize Events\n */\nexport var resize = constantly($window.asEventStream(\"resize\"));\n\n/**\n * Event wrapper for `window.onhashchanged`\n *\n * @returns EventStream of hashchanged Events\n */\nexport var hashchanged = constantly($window.asEventStream(\"hashchanged\"));\n\n/**\n * Event wrapper for `window.onpopstate`\n *\n * @returns EventStream of popstate Events\n */\nexport var popstate = constantly($window.asEventStream(\"popstate\"));\n\n/**\n * Special event that fires whenever the current history state is set, whether\n * from `history.pushState`, `history.replaceState`, or by anything that\n * triggers `window.onpopstate`.\n *\n * @returns EventStream of statechanged Events\n */\nexport var statechanged = constantly(\n  $window.asEventStream(\"___bacon-browser-state___\",(_,s) => s)\n    .merge(popstate().map(\".originalEvent.state\")));\n\n/**\n * Property that represents the latest value of `window.location.hash`. Updates\n * on `window.onhashchanged`.\n *\n * @returns Property of `window.location.hash`\n */\nexport var hash = () =>\n  hashchanged()\n  .map(()=>window.location.hash)\n  .toProperty(window.location.hash);\n\n/**\n * Property that represents the latest value of `window.location`. Updates\n * whenever the URL changes either from a `hashchanged` or using the `history`\n * API, if available.\n *\n * @returns Property of `window.location`\n */\nexport var location = ()=>\n  hashchanged()\n  .merge(statechanged())\n  .map(()=>window.location)\n  .toProperty(window.location);\n\n/**\n * Property that represents the current `history` state. Updates whenever\n * `history.pushState` or `history.replaceState` are called, or when anything\n * triggers `window.onpopstate`.\n *\n * @returns Property of history state\n */\nexport var state = ()=>statechanged().toProperty();\n\n/**\n * Property of the current `window` outer dimensions, in pixels.\n *\n * @returns Property of {width: Int, height: Int}\n */\nexport var dimensions = ()=>resize()\n  .map(()=>({width: $window.outerWidth(), height: $window.outerHeight()}))\n  .toProperty({width: $window.outerWidth(), height: $window.outerHeight()});\n\n/**\n * Property that represents the current window height.\n *\n * @returns Property of window's outer height\n */\nexport var height = ()=>dimensions().map(\".height\");\n\n/**\n * Property that represents the current window width.\n *\n * @returns Property of window's outer width\n */\nexport var width = ()=>dimensions().map(\".width\");\n\n/**\n * Event stream that fires whenever a browser animation frame is available. The\n * event value is a DOMHighResTimeStamp representing the time at which the frame\n * became ready (which may be noticeable earlier than when the event is actually\n * captured).\n *\n * @returns EventStream of DOMHighResTimeStamp\n */\nexport var animationFrames = constantly(bacon.fromBinder(function(sink) {\n  let done = false,\n      requestID;\n  function request() {\n    requestID = window.requestAnimationFrame(function(x) {\n      sink(x);\n      if (!done) {request();}\n    });\n  }\n  request();\n  return function stop() {\n    done = true;\n    if (requestID) {\n      window.cancelAnimationFrame(requestID);\n    }\n  };\n}));\n","module $ from \"jquery\";\nimport \"bacon\";\n\nexport var mousemove = domStream(\"mousemove\");\n\nexport var mouseup = domStream(\"mouseup\");\n\nexport var mousedown = domStream(\"mousedown\");\n\nexport var click = domStream(\"click\");\n\nexport var clicks = target =>\n  click(target).map(ev => ({\n    x: target ? ev.offsetX : ev.pageX,\n    y: target ? ev.offsetY : ev.pageY\n  }));\n\nexport var deltas = target =>\n  position(target).diff(null, (a, b) =>\n    a ? {x: b.x - a.x, y: b.y - a.y} : {x: 0, y: 0})\n  .toEventStream();\n\nexport var position = target =>\n  mousemove(target)\n    .map(ev => ({\n      x: target ? ev.offsetX : ev.pageX,\n      y: target ? ev.offsetY : ev.pageY\n    })).toProperty();\n\nexport var isUp = (upTarget, downTarget) =>\n  mouseup(upTarget).map(true)\n  .merge(mousedown(downTarget).map(false))\n  .toProperty();\n\nexport var isDown = (downTarget, upTarget) => isUp(upTarget, downTarget).not();\n\nfunction domStream(name) {\n  let docStream = $(document).asEventStream(name);\n  return target => target ? $(target).asEventStream(name) : docStream;\n}\n","module $ from \"jquery\";\nimport \"bacon\";\n","module $ from \"jquery\";\nimport \"bacon\";\n\n","module $ from \"jquery\";\nimport {animationFrames} from \"./window\";\nimport {constantly as give} from \"./util\";\nimport \"bacon\";\n\nlet $win = $(window);\n\nlet gpFun = (navigator.getGamepads ||\n             navigator.webkitGetGamepads ||\n             navigator.mozGetGamepads ||\n             give([]));\nlet getGamepads = ()=>gpFun.call(navigator);\n\nlet eventPad = e => getGamepads()[e.gamepad.index];\n\n// https://developer.mozilla.org/en-US/docs/Web/Guide/API/Gamepad\n\n// TODO - shim these for Chrome. See above link.\n\n/**\n * Event wrapper for `window.ongamepadconnected`\n *\n * @returns EventStream of gamepadconnected Events\n */\nexport var gamepadconnected = give($win.asEventStream(\"gamepadconnected\"));\n\n/**\n * Event wrapper for `window.ongamepaddisconnected`\n *\n * @returns EventStream of gamepaddisconnected Events\n */\nexport var gamepaddisconnected = give($win.asEventStream(\"gamepaddisconnected\"));\n\n/**\n * Event stream returning gamepad objects whenever they're connected.\n *\n * @returns EventStream of Gamepad\n */\nexport var connected = give(gamepadconnected().map(eventPad));\n\n/**\n * Event stream returning gamepad objects whenever they're disconnected.\n *\n * @returns EventStream of Gamepad\n */\nexport var disconnected = give(gamepaddisconnected().map(eventPad));\n\n/**\n * Property that represents the current gamepad array.\n *\n * @returns Property of GamepadList\n */\nexport var gamepads = () =>\n  gamepadconnected()\n  .merge(gamepaddisconnected())\n  .map(getGamepads)\n  .toProperty(getGamepads());\n\n/**\n * Property that represents the currently-pressed buttons on `gamepad`.\n *\n * @returns Property of ButtonList\n */\nexport var buttons = gamepad =>\n  sampler()\n  .map(()=>getGamepads()[gamepad.id].buttons)\n  .toProperty(getGamepads()[gamepad.id].buttons);\n\nexport var button = (gamepad, index, isAnalog) =>\n  buttons(gamepad).map(\".\"+index+\".\"+(isAnalog ? \"value\" : \"pressed\"));\n\nexport var buttonpressed = (gamepad, index) =>\n  button(index).skipDuplicates().filter(x=>x);\n\nexport var axes = gamepad =>\n  sampler()\n  .map(()=>getGamepads()[gamepad.id].axes)\n  .toProperty(getGamepads()[gamepad.id].axes);\n\nexport var axis = index => axes().map(\".\"+index);\n\nexport var axismoved = (gamepad, index) => axis(index).skipDuplicates();\n\nexport var sampler = give(animationFrames());\n","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;","export function constantly(x) {\n  return ()=>x;\n}\n"],"sourceRoot":"webpack-module://"}